<!DOCTYPE html>
<html>

<head>
    <title>test</title>
    <script type="text/javascript" src="js/xhr.js"></script>
</head>

<button onclick="testCors()">TestCORS</button>
<button onclick="sendFetch()">GetFetch</button>
<button onclick="postFetch()">PostFetch</button>
<body>

 <script type="text/javascript">
    var xhr = new XHR();
    function $(id) {
            return document.getElementById(id);
        }

    function testCors() { 
      	xhr.get('http://localhost:8080/FilterExample/Servlet',{},{
      		'Content-Type':'application/x-www-form-urlencoded'
      	}).then(function (data) {
              console.log(data,'GET');
          });
    }

    function sendFetch(){
    	
    	fetch('http://localhost:8080/FilterExample/Servlet')
    	.then((resp)=>
    		{console.log(resp)
    		return resp.json();
    		}).then((data)=>{
    		console.log(data);
    	});
    }
	function postFetch(){
   		let body = {name:'Jose',age:22};
   		let config = {method: 'POST', 
   	    	    body:JSON.stringify(body) 
	    };
    	fetch('http://localhost:8080/FilterExample/Servlet',config
    		)
    	.then((resp)=>
    		{console.log(resp)
    		return resp.json();
    		}).then((data)=>{
    		console.log(data);
    	});
    }
    
    </script>
</body>

</html>